<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>smfe: test_statistics_features.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">smfe
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">Sensor Motion Feature Extraction</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>首页</span></a></li>
      <li><a href="../../modules.html"><span>模块</span></a></li>
      <li><a href="../../namespaces.html"><span>命名空间</span></a></li>
      <li><a href="../../annotated.html"><span>类</span></a></li>
      <li><a href="../../files.html"><span>文件</span></a></li>
      <li><a href="../../examples.html"><span>示例</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">test_statistics_features.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>An example for test of current module <a class="el" href="../../dd/d20/group__stfeatures.html">statiscs-features</a></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;boost/test/unit_test.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;boost/assign/std/vector.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/d49/global_8h.html" title="计算特征库的所有基本类型和所有基本方法">smfe/global.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/d92/statistic__features_8h.html" title="计算统计特征">smfe/feature/statistic_features.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span>smfe;</div>
<div class="line"></div>
<div class="line">BOOST_AUTO_TEST_CASE(test_common_func)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga99406e0a5a4ed8710316cc82af0497c6.html#ga99406e0a5a4ed8710316cc82af0497c6" title="信号数据的基本类型">value_t</a> d[] = {5, 1, 4, 3, 2};</div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga4820d678cfd60ae883fc1ec2d876ac31.html#ga4820d678cfd60ae883fc1ec2d876ac31" title="保存一维数据的向量">vec</a> data = <a name="a0"></a><a class="code" href="../../d6/da4/group__global_gaee6fdb27be0999555711185b0e5f9927.html#gaee6fdb27be0999555711185b0e5f9927" title="make_vec方法为建立vec数据结构的适配器方法">make_vec</a>(d, 5);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga99406e0a5a4ed8710316cc82af0497c6.html#ga99406e0a5a4ed8710316cc82af0497c6" title="信号数据的基本类型">value_t</a> total_sum = smfe::sum(data);</div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga99406e0a5a4ed8710316cc82af0497c6.html#ga99406e0a5a4ed8710316cc82af0497c6" title="信号数据的基本类型">value_t</a> error = 1e-9;</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::sum(data), total_sum, error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::mean(data), total_sum/data.size(), error);</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::var(data), 2.5, error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::stddev(data), sqrt(2.5), error);</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::min(data), 1, error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::max(data), 5, error);</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::median(data), 3, error);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga4820d678cfd60ae883fc1ec2d876ac31.html#ga4820d678cfd60ae883fc1ec2d876ac31" title="保存一维数据的向量">vec</a> data2(<span class="stringliteral">&quot;6 3 4 2 1 5&quot;</span>);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(smfe::median(data2), 3.5, error);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="../../d6/da4/group__global_ga99406e0a5a4ed8710316cc82af0497c6.html#ga99406e0a5a4ed8710316cc82af0497c6" title="信号数据的基本类型">value_t</a> entropy_sum = 0;</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; data.size(); ++i) {</div>
<div class="line">        <a class="code" href="../../d6/da4/group__global_ga99406e0a5a4ed8710316cc82af0497c6.html#ga99406e0a5a4ed8710316cc82af0497c6" title="信号数据的基本类型">value_t</a> p = data[i]/total_sum;</div>
<div class="line">        entropy_sum += p*log(p);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using namespace </span>boost::assign;</div>
<div class="line">        std::vector&lt;int&gt; count_data;</div>
<div class="line">        count_data += 5, 1, 4, 3, 2;</div>
<div class="line">        BOOST_REQUIRE_CLOSE_FRACTION(<a name="a1"></a><a class="code" href="../../dd/d20/group__stfeatures_ga740b7596ac512eb13bebae55c365bd58.html#ga740b7596ac512eb13bebae55c365bd58" title="Calculates entropy of the signal.">entropy</a>(count_data), -entropy_sum, error);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a2"></a><a class="code" href="../../dd/d20/group__stfeatures_gaaadcf8be962bd6d0bf2ae14ed679eaf4.html#gaaadcf8be962bd6d0bf2ae14ed679eaf4" title="Calculates energy of the signal.">energy</a>(data), 55.0, error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a3"></a><a class="code" href="../../dd/d20/group__stfeatures_ga9b74a2e02079907151463e15dc80488e.html#ga9b74a2e02079907151463e15dc80488e" title="Calculates power of the signal.">power</a>(data), 55.0/data.size(), error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a4"></a><a class="code" href="../../dd/d20/group__stfeatures_ga2beb52f91a350860f99195ee4fe23400.html#ga2beb52f91a350860f99195ee4fe23400" title="Calculates Euclidean (L2) norm of the signal.">norm</a>(data), sqrt(55.0), error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a5"></a><a class="code" href="../../dd/d20/group__stfeatures_gaac3d560c3bc8a3a48b43ce3309413d33.html#gaac3d560c3bc8a3a48b43ce3309413d33" title="Calculates root mean square level of the signal.">rms</a>(data), sqrt(55.0/data.size()), error);</div>
<div class="line"></div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a6"></a><a class="code" href="../../dd/d20/group__stfeatures_gacdbc6e9c3cda130f96a05f5879c44352.html#gacdbc6e9c3cda130f96a05f5879c44352" title="得到1/4小的元素">first_quater</a>(data), 2.0, error);</div>
<div class="line">    BOOST_REQUIRE_CLOSE_FRACTION(<a name="a7"></a><a class="code" href="../../dd/d20/group__stfeatures_ga97d835e068d3a605ccf389f1c8800a5e.html#ga97d835e068d3a605ccf389f1c8800a5e" title="得到3/4小的元素">third_quater</a>(data), 4.0, error);</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2013年 八月 20日 星期二 19:38:08 , 为 smfe使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
